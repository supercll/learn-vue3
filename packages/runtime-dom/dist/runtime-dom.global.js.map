{
  "version": 3,
  "sources": ["../src/index.ts", "../src/nodeOps.ts", "../src/patch-prop/patchAttr.ts", "../src/patch-prop/patchClass.ts", "../src/patch-prop/patchEvent.ts", "../src/patch-prop/patchStyle.ts", "../src/patchProp.ts"],
  "sourcesContent": ["import { nodeOps } from './nodeOps'\r\n\r\nimport { patchProp } from './patchProp'\r\n\r\nexport * from '@vue/runtime-core'\r\n\r\nconst renderOptions = { patchProp, ...nodeOps }\r\n", "export const nodeOps = {\r\n  createElement(tagName) {\r\n    return document.createElement(tagName)\r\n  },\r\n  createTextNode(text) {\r\n    return document.createTextNode(text)\r\n  },\r\n  insert(element, container, anchor = null) {\r\n    container.insertBefore(element, anchor) // ==appendChild\r\n  },\r\n  remove(child) {\r\n    const parent = child.parentNode\r\n    if (parent) {\r\n      parent.removeChild(child)\r\n    }\r\n  },\r\n  querySelector(selectors) {\r\n    return document.querySelector(selectors)\r\n  },\r\n  parentNode(child) {\r\n    // \u7236\u8282\u70B9\r\n    return child.parentNode\r\n  },\r\n  nextSibling(child) {\r\n    // \u83B7\u53D6\u5144\u5F1F\u5143\u7D20\r\n    return child.nextSibling\r\n  },\r\n  setText(element, text) {\r\n    // \u7ED9\u6587\u672C\u8282\u70B9\u8BBE\u7F6E\u5185\u5BB9\r\n    element.nodeValue = text\r\n  },\r\n  setElementText(element, text) {\r\n    // \u7ED9\u5143\u7D20\u8282\u70B9\u8BBE\u7F6E\u5185\u5BB9 innerHTML\r\n    element.textContent = text\r\n  },\r\n}\r\n// \u521B\u5EFA\u5143\u7D20\u8282\u70B9 \u521B\u5EFA\u6587\u672C\u8282\u70B9  \u8282\u70B9\u7684\u589E\u5220\u67E5\uFF0C \u83B7\u53D6\u7236\u5B50\u5173\u7CFB\r\n", "export function patchAttr(el, key, nextValue) {\r\n  if (nextValue == null) {\r\n    el.removeAttribute(key)\r\n  } else {\r\n    el.setAttribute(key, nextValue)\r\n  }\r\n}\r\n", "export function patchClass(el, nextValue) {\r\n  if (nextValue == null) {\r\n    el.removeAttribute('class')\r\n  } else {\r\n    el.className = nextValue\r\n  }\r\n}\r\n", "function createInvoker(preValue) {\r\n  const invoker = e => {\r\n    invoker.value(e)\r\n  } // \u8FD9\u4E2A\u5730\u65B9\u9700\u8981\u8C03\u7528\u624D\u4F1A\u6267\u884C invoker.value\r\n\r\n  invoker.value = preValue // \u540E\u7EED\u53EA\u9700\u8981\u4FEE\u6539value\u7684\u5F15\u7528\u5C31\u53EF\u4EE5 \u8FBE\u5230\u8C03\u7528\u4E0D\u540C\u7684\u903B\u8F91\r\n  return invoker\r\n}\r\nexport function patchEvent(el, eventName, nextValue) {\r\n  const invokers = el._vei || (el._vei = {})\r\n  const exitingInvoker = invokers[eventName]\r\n\r\n  if (exitingInvoker && nextValue) {\r\n    // \u8FDB\u884C\u6362\u7ED1\r\n    exitingInvoker.value = nextValue\r\n  } else {\r\n    // \u4E0D\u5B58\u5728\u7F13\u5B58\u7684\u60C5\u51B5  addEventListener('click')\r\n    const eName = eventName.slice(2).toLowerCase()\r\n    if (nextValue) {\r\n      const invoker = createInvoker(nextValue) // \u9ED8\u8BA4\u4F1A\u5C06\u7B2C\u4E00\u6B21\u7684\u51FD\u6570\u7ED1\u5B9A\u5230invoker.value\u4E0A\r\n      // el._vei  = {onClick: invoker}\r\n      invokers[eventName] = invoker // \u7F13\u5B58invoker\r\n      el.addEventListener(eName, invoker)\r\n    } else if (exitingInvoker) {\r\n      // \u6CA1\u6709\u65B0\u7684\u503C\uFF0C\u4F46\u662F\u4E4B\u524D\u7ED1\u5B9A\u8FC7 \u6211\u9700\u8981\u5220\u9664\u8001\r\n      el.removeEventListener(eName, exitingInvoker)\r\n      invokers[eventName] = null // \u7F13\u5B58invoker\r\n    }\r\n  }\r\n}\r\n", "export function patchStyle(el, preValue, nextValue) {\r\n  // \u6211\u5982\u4F55\u6BD4\u8F83\u4E24\u4E2A\u5BF9\u8C61\u7684\u5DEE\u5F02\uFF1F\r\n  // \u6BD4\u5BF9\u4E24\u4E2A\u5BF9\u8C61 \u9700\u8981\u540C\u65F6\u904D\u5386 \u65B0\u7684\u548C\u8001\u7684\r\n  const style = el.style\r\n  for (let key in nextValue) {\r\n    style[key] = nextValue[key]\r\n  }\r\n  if (preValue) {\r\n    for (let key in preValue) {\r\n      if (nextValue[key] == null) {\r\n        // \u8001\u7684\u6709 \u65B0\u7684\u6CA1\u6709 \u9700\u8981\u5220\u9664\u8001\u7684\r\n        style[key] = null\r\n      }\r\n    }\r\n  }\r\n}\r\n", "// \u7ED9\u5C5E\u6027\u6253\u8865\u4E01 {style:{color:'red'}}   {style:{}}\r\n\r\nimport { patchAttr } from './patch-prop/patchAttr'\r\nimport { patchClass } from './patch-prop/patchClass'\r\nimport { patchEvent } from './patch-prop/patchEvent'\r\nimport { patchStyle } from './patch-prop/patchStyle'\r\n\r\n// \u7C7B\u540D\uFF0C\r\n// \u884C\u5185\u6837\u5F0F\r\n// \u4E8B\u4EF6\r\n// \u5176\u4ED6\u5C5E\u6027\r\n\r\n// click ()=> fn1()  ->  fn2()  \u4E0D\u9700\u8981\u6BCF\u6B21\u91CD\u65B0 add\u548Cremove\r\n\r\n// checked   default-value  innerHTML\r\nexport const patchProp = (el, key, preValue, nextValue) => {\r\n  if (key === 'class') {\r\n    patchClass(el, nextValue)\r\n  } else if (key === 'style') {\r\n    patchStyle(el, preValue, nextValue)\r\n  } else if (/on[^a-z]/.test(key)) {\r\n    //onClick onMousedown\r\n    patchEvent(el, key, nextValue)\r\n  } else {\r\n    patchAttr(el, key, nextValue)\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;ACAO,MAAM,UAAU;AAAA,IACrB,cAAc,SAAS;AACrB,aAAO,SAAS,cAAc,OAAO;AAAA,IACvC;AAAA,IACA,eAAe,MAAM;AACnB,aAAO,SAAS,eAAe,IAAI;AAAA,IACrC;AAAA,IACA,OAAO,SAAS,WAAW,SAAS,MAAM;AACxC,gBAAU,aAAa,SAAS,MAAM;AAAA,IACxC;AAAA,IACA,OAAO,OAAO;AACZ,YAAM,SAAS,MAAM;AACrB,UAAI,QAAQ;AACV,eAAO,YAAY,KAAK;AAAA,MAC1B;AAAA,IACF;AAAA,IACA,cAAc,WAAW;AACvB,aAAO,SAAS,cAAc,SAAS;AAAA,IACzC;AAAA,IACA,WAAW,OAAO;AAEhB,aAAO,MAAM;AAAA,IACf;AAAA,IACA,YAAY,OAAO;AAEjB,aAAO,MAAM;AAAA,IACf;AAAA,IACA,QAAQ,SAAS,MAAM;AAErB,cAAQ,YAAY;AAAA,IACtB;AAAA,IACA,eAAe,SAAS,MAAM;AAE5B,cAAQ,cAAc;AAAA,IACxB;AAAA,EACF;;;ACnCO,qBAAmB,IAAI,KAAK,WAAW;AAC5C,QAAI,aAAa,MAAM;AACrB,SAAG,gBAAgB,GAAG;AAAA,IACxB,OAAO;AACL,SAAG,aAAa,KAAK,SAAS;AAAA,IAChC;AAAA,EACF;;;ACNO,sBAAoB,IAAI,WAAW;AACxC,QAAI,aAAa,MAAM;AACrB,SAAG,gBAAgB,OAAO;AAAA,IAC5B,OAAO;AACL,SAAG,YAAY;AAAA,IACjB;AAAA,EACF;;;ACNA,yBAAuB,UAAU;AAC/B,UAAM,UAAU,OAAK;AACnB,cAAQ,MAAM,CAAC;AAAA,IACjB;AAEA,YAAQ,QAAQ;AAChB,WAAO;AAAA,EACT;AACO,sBAAoB,IAAI,WAAW,WAAW;AACnD,UAAM,WAAW,GAAG,QAAS,IAAG,OAAO,CAAC;AACxC,UAAM,iBAAiB,SAAS;AAEhC,QAAI,kBAAkB,WAAW;AAE/B,qBAAe,QAAQ;AAAA,IACzB,OAAO;AAEL,YAAM,QAAQ,UAAU,MAAM,CAAC,EAAE,YAAY;AAC7C,UAAI,WAAW;AACb,cAAM,UAAU,cAAc,SAAS;AAEvC,iBAAS,aAAa;AACtB,WAAG,iBAAiB,OAAO,OAAO;AAAA,MACpC,WAAW,gBAAgB;AAEzB,WAAG,oBAAoB,OAAO,cAAc;AAC5C,iBAAS,aAAa;AAAA,MACxB;AAAA,IACF;AAAA,EACF;;;AC7BO,sBAAoB,IAAI,UAAU,WAAW;AAGlD,UAAM,QAAQ,GAAG;AACjB,aAAS,OAAO,WAAW;AACzB,YAAM,OAAO,UAAU;AAAA,IACzB;AACA,QAAI,UAAU;AACZ,eAAS,OAAO,UAAU;AACxB,YAAI,UAAU,QAAQ,MAAM;AAE1B,gBAAM,OAAO;AAAA,QACf;AAAA,MACF;AAAA,IACF;AAAA,EACF;;;ACAO,MAAM,YAAY,CAAC,IAAI,KAAK,UAAU,cAAc;AACzD,QAAI,QAAQ,SAAS;AACnB,iBAAW,IAAI,SAAS;AAAA,IAC1B,WAAW,QAAQ,SAAS;AAC1B,iBAAW,IAAI,UAAU,SAAS;AAAA,IACpC,WAAW,WAAW,KAAK,GAAG,GAAG;AAE/B,iBAAW,IAAI,KAAK,SAAS;AAAA,IAC/B,OAAO;AACL,gBAAU,IAAI,KAAK,SAAS;AAAA,IAC9B;AAAA,EACF;;;ANpBA,MAAM,gBAAgB,iBAAE,aAAc;",
  "names": []
}
